{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Auth": {
    "AllowAccountCreation": false
  },
  "AppInfo": {
    "Name": "BareMetalWeb",
    "Company": "BareMetalWeb Inc.",
    "Copyright": "2026"
  },
  "Proxy": {
    "Route": "/proxy",
    "TargetBaseUrl": "",
    "Routes": [
      {
        "Route": "/proxy",
        "Verb": "ALL",
        "MatchMode": "StartsWith",
        "TargetConfigs": [
          { "Uri": "https://example.internal", "Weight": 3 },
          { "Uri": "https://example.internal-2", "Weight": 1 }
        ],
        "LoadBalance": "RoundRobin",
        "StickySessionsEnabled": true,
        "StickySessionMode": "Cookie",
        "StickySessionKeyName": "X-Proxy-Session",
        "StickySessionTtlSeconds": 3600,
        "AddHeaders": {
          "X-Proxy": "BareMetalWeb"
        },
        "RemoveHeaders": [
          "X-Remove-Me"
        ],
        "PathPrefixToStrip": "/proxy",
        "PathPrefixToAdd": "",
        "RewritePath": "",
        "IncludeQuery": true,
        "RetryIdempotentRequests": true,
        "RetryAllMethodsHeader": "X-Proxy-Retry-All",
        "MaxRetries": 1,
        "MaxRetryBodyBytes": 1048576,
        "RetryBaseDelayMs": 100,
        "RetryMaxDelayMs": 2000,
        "RetryUseJitter": true,
        "UseStatus499ForClientAbort": true,
        "TraceIdHeader": "X-Trace-ID",
        "EnableVerboseLog": false,
        "FailureWindowSeconds": 60,
        "FailurePercentageThreshold": 50,
        "MinimumRequestsInWindow": 10,
        "OfflineSeconds": 60
      }
    ]
  },
  "Https": {
    "RedirectMode": "Off",
    "TrustForwardedHeaders": false,
    "RedirectHost": "",
    "RedirectPort": 0
  },
  "AllowedHosts": "*",
  "Cors": {
    "AllowedOrigins": []
  },
  "StaticFiles": {
    "Enabled": true,
    "RequestPathPrefix": "/static",
    "RootDirectory": "wwwroot/static",
    "EnableCaching": true,
    "CacheSeconds": 86400,
    "AddETag": true,
    "AddLastModified": true,
    "AddExpiresHeader": true,
    "AllowUnknownMime": false,
    "HideUnknownMimeFiles": true,
    "DefaultMimeType": "application/octet-stream",
    "DefaultFile": null,
    "DefaultFiles": [],
    "EnableDirectoryBrowsing": false,
    "DirectoryListingHideDotFiles": true,
    "DirectoryListingHideUnknownMime": true,
    "DirectoryListingSortDirectoriesFirst": true,
    "DirectoryListingMaxEntries": 2000,
    "AllowRangeOnPrecompressed": true,
    "MaxRanges": 5,
    "MetadataCacheMaxEntries": 50000,
    "MimeTypes": {
      ".webmanifest": "application/manifest+json",
      ".wasm": "application/wasm"
    }
  },
  "ClusteredStore": {
    "CheckpointEnabled": true,
    "CheckpointSeconds": 300
  }
}
